/*
@Time   : 2022/3/29 18:22
@Author : ckx0709
@Remark :
*/
package constants

import (
	"fmt"
	log "github.com/sirupsen/logrus"
	"testing"
)

func TestGetRandUserAgent(t *testing.T) {
	for i := 0; i < 20; i++ {
		agent := GetRandUserAgent()
		fmt.Println(agent)
	}
}

func TestGetRandUserAgent2(t *testing.T) {
	str := `jQuery112407430974032649418_1642642459884({"rc":0,"rt":4,"svr":180606314,"lt":1,"full":1,"data":{"f43":7.22,"f44":7.43,"f45":7.05,"f46":7.12,"f47":113081,"f48":81984001.0,"f49":60560,"f50":0.68,"f51":7.78,"f52":6.36,"f55":0.106582477,"f57":"600353","f58":"旭光电子","f60":7.07,"f62":4,"f71":7.25,"f78":0,"f80":"[{\"b\":202203300930,\"e\":202203301130},{\"b\":202203301300,\"e\":202203301500}]","f84":543720000.0,"f85":543720000.0,"f86":1648625744,"f92":2.2043976,"f104":1006758282.73,"f105":57951024.43,"f107":1,"f110":1,"f111":2,"f116":3925658400.0,"f117":3925658400.0,"f127":"电子元件","f128":"四川板块","f135":13594138.0,"f136":11187058.0,"f137":2407080.0,"f138":1797576.0,"f139":"-","f140":1797576.0,"f141":11796562.0,"f142":11187058.0,"f143":609504.0,"f144":29270283.0,"f145":26474268.0,"f146":2796015.0,"f147":37635380.0,"f148":42838476.0,"f149":-5203096.0,"f161":52521,"f162":67.74,"f163":67.74,"f164":67.74,"f167":3.28,"f168":2.08,"f169":0.15,"f170":2.12,"f173":4.96,"f177":1,"f183":1006758282.73,"f184":11.6096080006,"f185":8.239703853008,"f186":22.2828051915,"f187":7.846492827,"f188":26.2759979145,"f189":20021120,"f190":0.794238096539,"f191":-7.95,"f192":-351,"f193":2.94,"f194":2.19,"f195":0.74,"f196":3.41,"f197":-6.35,"f199":90,"f250":"-","f251":"-","f252":"-","f253":"-","f254":"-","f255":0,"f256":"-","f257":0,"f258":"-","f262":"-","f263":0,"f264":"-","f266":"-","f267":"-","f268":"-","f269":"-","f270":0,"f271":"-","f273":"-","f274":"-","f275":"-","f280":"-","f281":"-","f282":"-","f284":0,"f285":"-","f286":0,"f287":"-","f292":5,"f21":"-","f22":"-","f23":"-","f24":"-","f25":"-","f26":"-","f27":"-","f28":"-","f29":"-","f30":"-","f31":7.26,"f32":309,"f33":7.25,"f34":437,"f35":7.24,"f36":490,"f37":7.23,"f38":658,"f39":7.22,"f40":490,"f19":7.21,"f20":552,"f17":7.2,"f18":814,"f15":7.19,"f16":245,"f13":7.18,"f14":200,"f11":7.17,"f12":222,"f9":"-","f10":"-","f7":"-","f8":"-","f5":"-","f6":"-","f3":"-","f4":"-","f1":"-","f2":"-"}});`
	rxp := ExprShareDayMsg.GetRegexp()
	findString := rxp.FindString(str)
	fmt.Print(findString)
}

func TestGetRandUserAgent3(t *testing.T) {
	str := `<tr><td>182.34.206.193</td><td>25624</td><td>1.20</td><td>中国山东省</td><td>2022-03-31 11:52:12</td></tr>
<tr><td>47.115.156.64</td><td>3128</td><td>1.98</td><td>中国广东</td><td>2022-03-31 11:52:04</td></tr>
<tr><td>47.104.237.35</td><td>81</td><td>1.52</td><td>中国山东省</td><td>2022-03-31 11:52:03</td></tr>
<tr><td>39.175.75.5</td><td>30001</td><td>0.16</td><td>中国浙江省</td><td>2022-03-31 11:51:53</td></tr>
<tr><td>120.78.86.191</td><td>3128</td><td>2.91</td><td>中国广东</td><td>2022-03-31 11:51:44</td></tr>
<tr><td>162.214.118.137</td><td>80</td><td>2.80</td><td>美国犹他州</td><td>2022-03-31 11:52:24</td></tr>
<tr><td>36.94.17.138</td><td>8080</td><td>1.29</td><td>印尼Jakarta</td><td>2022-03-31 11:52:22</td></tr>
<tr><td>43.255.113.232</td><td>84</td><td>0.11</td><td>柬埔寨Phnom Penh</td><td>2022-03-31 11:52:19</td></tr>
<tr><td>43.255.113.232</td><td>82</td><td>0.11</td><td>柬埔寨Phnom Penh</td><td>2022-03-31 11:52:19</td></tr>
<tr><td>43.255.113.232</td><td>8081</td><td>0.11</td><td>柬埔寨Phnom Penh</td><td>2022-03-31 11:52:19</td></tr>`
	rxp := ExprHtmlTable1.GetRegexp()
	temp := rxp.ReplaceAllString(str, ":")

	rxp2 := ExprProxy1.GetRegexp()
	findString := rxp2.FindAllString(temp, -1)
	fmt.Print(findString)
}

func TestExpr_GetRegexp(t *testing.T) {
	log.Warnf("[TestExpr_GetRegexp] err =%s","13")
}
